# 手动密码支付方案 - 设置指南

## 📋 快速开始

这个方案完全免费，不需要任何第三方支付平台，适合快速上线测试。

---

## 第一步：准备二维码图片

### 1. 准备你的收款码
- 打开微信或支付宝
- 找到"收付款"功能
- 保存收款二维码图片
- 重命名为 `payment-qrcode.jpg`

### 2. 准备你的微信二维码
- 打开微信
- 点击右上角 "+" → "添加朋友" → "我的二维码"
- 保存二维码图片
- 重命名为 `wechat-qrcode.jpg`

### 3. 上传图片
把这两个图片放到项目的 `images/` 文件夹中：
```
D:\sleep-helper-website\images\
├── payment-qrcode.jpg  (你的收款码)
└── wechat-qrcode.jpg   (你的微信二维码)
```

---

## 第二步：配置result.html

打开 `result.html` 文件，找到这几行（在文件底部）：

```javascript
// ========== 在这里设置你的收款码和微信二维码 ==========
const PAYMENT_QRCODE = 'images/payment-qrcode.jpg';  // 你的收款码图片路径
const WECHAT_QRCODE = 'images/wechat-qrcode.jpg';    // 你的微信二维码图片路径
const WECHAT_ID = 'your_wechat_id';                   // 你的微信号（可选）
```

**修改为你的实际信息：**
```javascript
const PAYMENT_QRCODE = 'images/payment-qrcode.jpg';  // 已上传的收款码
const WECHAT_QRCODE = 'images/wechat-qrcode.jpg';    // 已上传的微信二维码
const WECHAT_ID = 'abc12345';                         // 你的微信号
```

---

## 第三步：生成并设置密码

### 1. 打开密码管理页面
在浏览器中打开：`admin-password.html`

### 2. 生成密码
- 输入前缀（比如 `SLEEP`）
- 选择生成数量（建议先生成10个）
- 点击"生成密码"

### 3. 复制生成的密码
点击"导出全部"按钮，会下载一个txt文件，里面有所有密码。

### 4. 更新unlock-report.html
打开 `unlock-report.html` 文件，找到这段代码：

```javascript
const validPasswords = [
    'DEMO123',           // 示例密码1
    'SLEEP2024',         // 示例密码2
    'TEST001',           // 示例密码3
    // 在这里添加更多密码...
];
```

**把你生成的密码添加进去：**
```javascript
const validPasswords = [
    'SLEEP-A1B2C3',
    'SLEEP-D4E5F6',
    'SLEEP-G7H8I9',
    'SLEEP-J1K2L3',
    // ... 你生成的其他密码
];
```

---

## 第四步：测试流程

### 1. 打开网站，完成评估
访问 `index.html` → 点击"开始评估" → 完成12题

### 2. 查看结果页
- 看到你的睡眠类型
- 点击"获取完整分析报告 ¥9.9"

### 3. 查看支付弹窗
应该能看到：
- ✅ 你的收款码
- ✅ 你的微信二维码
- ✅ 购买流程说明

### 4. 测试密码验证
- 点击"已有密码，立即输入"
- 输入你设置的密码（比如 `SLEEP-A1B2C3`）
- 点击"验证并查看报告"
- 应该能看到完整报告

---

## 实际使用流程

### 用户端：
1. 用户完成评估 → 点击购买
2. 看到收款码 → 扫码支付 ¥9.9
3. 添加你的微信 → 发送付款截图
4. 等待你回复密码
5. 输入密码 → 查看完整报告

### 你的操作：
1. 收到用户微信好友申请 → 通过
2. 用户发来付款截图 → 核实金额
3. 从密码管理页面复制一个密码
4. 发送给用户
5. 完成！

---

## 常见问题

### Q1: 密码会被泄露吗？
A: 可能会。所以建议：
- 每个用户发不同的密码
- 定期更换密码池
- 发现泄露就删除该密码

### Q2: 忘记设置了哪些密码怎么办？
A: 打开 `admin-password.html` 查看所有生成的密码

### Q3: 想批量处理怎么办？
A: 可以设置微信自动回复：
- 用户添加你时自动回复："请发送付款截图"
- 你每天集中处理一次，批量发密码

### Q4: 密码输入页面太简陋？
A: 可以自己美化 `unlock-report.html` 的样式

### Q5: 想要永久密码？
A: 在 `unlock-report.html` 添加一个特殊密码：
```javascript
const validPasswords = [
    'VIPFOREVER',  // 永久有效的VIP密码
    // 其他普通密码...
];
```

---

## 升级建议

### 如果流量大了，可以考虑：

**方案1：固定每日密码**
- 每天设置一个相同的密码
- 公布在收款码上："今日密码：SLEEP1229"
- 第二天更换
- 优点：完全自动化
- 缺点：容易泄露

**方案2：接入自动支付**
- 等赚到钱后开通虎皮椒（¥118）
- 用之前我写好的自动支付代码
- 完全自动化，用户付款立刻看报告

---

## 部署到Vercel

即使用手动密码方案，也建议部署到Vercel：
1. 上传代码到GitHub
2. 在Vercel导入项目
3. 部署后得到免费域名
4. 用户就能访问了

不需要配置任何支付API，直接部署就能用！

---

## 需要帮助？

如果遇到问题：
1. 检查图片路径是否正确
2. 检查密码是否添加到validPasswords数组
3. 清除浏览器缓存重试
4. 打开浏览器控制台查看错误信息

祝你顺利上线！🎉
